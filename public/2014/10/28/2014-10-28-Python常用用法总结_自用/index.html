<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Python常用用法总结_自用 · Snow Memory | Andrew Liu</title><meta name="description" content="Python常用用法总结_自用 - Andrew Liu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://andrewliu.in/atom.xml" title="Snow Memory | Andrew Liu"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/dinosaurliu" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/Andrew-liu" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Python常用用法总结_自用</h1><div class="post-info">Oct 28, 2014</div><div class="post-content"><p>#1. 逆转字符串的三种方法</p>
<p>##1.1. 模拟C++中方法， 定义一个空字符串来实现</p>
<blockquote>
<p>通过设置一个空字符串， 然后讲参数中的字符串从后往前遍历， 使用字符串的加法合并为新的字符串</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">def reverse(text) :</div><div class="line">    str = &apos;&apos;</div><div class="line">    index = len(text) - 1</div><div class="line">    while index &gt;= 0 :</div><div class="line">        str += text[index]</div><div class="line">        index -= 1</div><div class="line">    return str</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>##1.2. 使用切片法<br>这个是Python中的一个特性， 切片可以取负值，这是采用切片的方法，设置步长为-1，这样就实现了反过来排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">def reverse_1(text) :</div><div class="line">    return text[::-1]</div></pre></td></tr></table></figure>
<p>##1.3. 使用列表<br>采用列表的reverse方法，先将text转换为列表，然后通过reverse方法反转，然后在通过join连接为字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">def reverse_2(text) :</div><div class="line">    temp = list(text)</div><div class="line">    temp.reverse()</div><div class="line">    return &apos;&apos;.join(temp)</div></pre></td></tr></table></figure>
<p>#2. 使用reduce<br>使用<code>匿名函数和reduce()</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">def reverse_3(text) :</div><div class="line">    return reduce(lambda x, y : y + x, text)</div><div class="line">print reverse_3(&quot;Hello&quot;)</div></pre></td></tr></table></figure>
<p>#3. 遍历字典的四种方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">dict=&#123;&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;banana&quot;,&quot;o&quot;:&quot;orange&quot;&#125; </div><div class="line"> </div><div class="line">print &quot;##########dict######################&quot; </div><div class="line">for i in dict: </div><div class="line">        print &quot;dict[%s]=&quot; % i,dict[i] </div><div class="line"> </div><div class="line">print &quot;###########items#####################&quot; </div><div class="line">for (k,v) in  dict.items(): </div><div class="line">        print &quot;dict[%s]=&quot; % k,v </div><div class="line"> </div><div class="line">print &quot;###########iteritems#################&quot; </div><div class="line">for k,v in dict.iteritems(): </div><div class="line">        print &quot;dict[%s]=&quot; % k,v </div><div class="line"> </div><div class="line">print &quot;###########iterkeys,itervalues#######&quot; </div><div class="line">for k,v in zip(dict.iterkeys(),dict.itervalues()): </div><div class="line">        print &quot;dict[%s]=&quot; % k,v</div></pre></td></tr></table></figure>
<p>#4. 遍历list的三种方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for key in lst :</div><div class="line">    print key</div><div class="line">    </div><div class="line">for i in range(len(lst)) :</div><div class="line">    print lst[i]</div><div class="line"></div><div class="line">for index, key in enumerate(lst) :</div><div class="line">    print key    //index是list的索引</div></pre></td></tr></table></figure>
<p>#5. 字典排序的方法</p>
<ul>
<li>字典按照value的值从大到小的顺序来排序(<code>默认从小到排序</code>)。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dic = &#123;&apos;a&apos;:31, &apos;bc&apos;:5, &apos;c&apos;:3, &apos;asd&apos;:4, &apos;aa&apos;:74, &apos;d&apos;:0&#125;</div><div class="line">dict= sorted(dic.iteritems(), key=lambda d:d[1], reverse = True)</div><div class="line">print dict</div><div class="line"></div><div class="line">//输出的结果：</div><div class="line">[(&apos;aa&apos;, 74), (&apos;a&apos;, 31), (&apos;bc&apos;, 5), (&apos;asd&apos;, 4), (&apos;c&apos;, 3), (&apos;d&apos;, 0)]</div></pre></td></tr></table></figure>
<p>下面我们分解下代码<br>print dic.iteritems() 得到[(键，值)]的列表。<br>然后用sorted方法，通过key这个参数，指定排序是按照value，也就是第一个元素d[1的值来排序。reverse = True表示是需要翻转的，默认是从小到大，翻转的话，那就是从大到小。</p>
<ul>
<li>对字典按键（key）排序：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dic = &#123;&apos;a&apos;:31, &apos;bc&apos;:5, &apos;c&apos;:3, &apos;asd&apos;:4, &apos;aa&apos;:74, &apos;d&apos;:0&#125;</div><div class="line">dict= sorted(dic.iteritems(), key=lambda d:d[0]) # d[0]表示字典的键</div><div class="line">print dict</div><div class="line"></div><div class="line">#sorted中第三个可选参数为reverse, True表示从大到小排序</div><div class="line">#默认reverse = False</div></pre></td></tr></table></figure>
<p>#6. 子类和父类</p>
<ul>
<li>子类构造函数调用父类的初始化构造函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">class A(object) :</div><div class="line">    def __init__(self) :</div><div class="line">        print  &quot;testA</div><div class="line"></div><div class="line">class B(A) :</div><div class="line">    def __init__(self) :</div><div class="line">        A.__init__(self)</div></pre></td></tr></table></figure>
<ul>
<li>子类调用父类的<code>同名</code>函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">super().fuleifunction()</div></pre></td></tr></table></figure>
<p>#7. 更灵活的参数传递方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">func2(a=1, b=2, c=3) #默认参数</div><div class="line">func3(*args)         #接受任意数量的参数, 以tuple的方式传入</div><div class="line">func4(**kargs)       #把参数以键值对字典的形式传入</div></pre></td></tr></table></figure>
<p>在变量前加上星号前缀（<code>*</code>），调用时的参数会存储在一个 <code>tuple（）</code>对象中，赋值给形参。在函数内部，需要对参数进行处理时，只要对这个 tuple 类型的形参（这里是 args）进行操作就可以了。因此，函数在定义时并不需要指明参数个数，就可以处理任意参数个数的情况。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">def calcSum(*args):</div><div class="line">    sum = 0</div><div class="line">    for i in args:</div><div class="line">        sum += i</div><div class="line">        print sum</div><div class="line"></div><div class="line">#调用：</div><div class="line">calcSum(1,2,3)</div><div class="line">calcSum(123,456)</div><div class="line">calcSum()</div><div class="line"></div><div class="line">#输出：</div><div class="line">6</div><div class="line">579</div><div class="line">0</div><div class="line"></div><div class="line">#################################</div><div class="line">def printAll(**kargs):</div><div class="line">    for k in kargs:</div><div class="line">    print k, &apos;:&apos;, kargs[k]</div><div class="line"></div><div class="line">printAll(a=1, b=2, c=3)</div><div class="line">printAll(x=4, y=5)</div><div class="line"></div><div class="line"></div><div class="line">#输出：</div><div class="line">a : 1</div><div class="line">c : 3</div><div class="line">b : 2</div><div class="line">y : 5</div><div class="line">x : 4</div></pre></td></tr></table></figure>
<p>python的中参数可以多种形式进行组合, 在混合使用时，首先要注意函数的写法，必须遵守:</p>
<ul>
<li>带有默认值的形参(<code>arg=</code>)须在无默认值的形参(<code>arg</code>)之后</li>
<li>元组参数(<code>*args</code>)须在带有默认值的形参(<code>arg=</code>)之后</li>
<li>字典参数(<code>**kargs</code>)须在元组参数(<code>*args</code>)之后</li>
</ul>
<p>在函数被调用时，参数的传递过程为：</p>
<ol>
<li>按顺序把无指定参数的实参赋值给形参</li>
<li>把指定参数名称(arg=v)的实参赋值给对应的形参</li>
<li>将多余的无指定参数的实参打包成一个 tuple 传递给元组参数(*args)</li>
<li>将多余的指定参数名的实参打包成一个 dict 传递给字典参数(**kargs)</li>
</ol>
<p>#8. lambda 表达式</p>
<blockquote>
<p>lambda 表达式可以看做一种匿名函数</p>
</blockquote>
<pre><code>lambda 表达式的语法格式：
lambda 参数列表: 表达式   #参数列表周围没有括号，返回值前没有 return 关键字，也没有函数名称
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">def fn(x):</div><div class="line">    return lambda y: x + y</div><div class="line">#调用</div><div class="line">a = fn(2)</div><div class="line">print a(3)</div><div class="line">#输出</div><div class="line">5</div></pre></td></tr></table></figure>
<p>分析<br>:   fn(2)调用后, 相当于<code>a =  lambda y: 2 + y</code>, 然后a(3)被调用时.<br>相当于 <code>print lambda y: 2 + 3</code></p>
</div></article></div></section><footer><div class="paginator"><a href="/2014/11/02/2014-11-02-IOS基础一/" class="prev">PREV</a><a href="/2014/10/27/2014-10-27-Git远程协作和分支技巧/" class="next">NEXT</a></div><div class="copyright"><p>© 2014 - 2017 <a href="http://andrewliu.in">Andrew Liu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-58158116-2",'auto');ga('send','pageview');</script></body></html>
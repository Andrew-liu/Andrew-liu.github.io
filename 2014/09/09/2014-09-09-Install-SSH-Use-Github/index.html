<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Install-SSH-Use-Github · Snow Memory | Andrew Liu</title><meta name="description" content="Install-SSH-Use-Github - Andrew Liu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://andrewliu.in/atom.xml" title="Snow Memory | Andrew Liu"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/dinosaurliu" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/Andrew-liu" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Install-SSH-Use-Github</h1><div class="post-info">Sep 9, 2014</div><div class="post-content"><h1 id="总体步骤"><a href="#总体步骤" class="headerlink" title="总体步骤"></a>总体步骤</h1><ol>
<li>在<a href="http://github.com" target="_blank" rel="external">http://github.com</a> 上注册自己的github账户后</li>
<li>本地Git目录下要执行语句设置账户信息</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name &quot;yourname&quot;</div><div class="line">git config --global user.email &quot;XXX@XXX.com&quot;</div></pre></td></tr></table></figure>
<ol>
<li>生成SSH公钥和密钥，用于免验证提交代码到Github</li>
</ol>
<a id="more"></a>
<h2 id="基本git命令"><a href="#基本git命令" class="headerlink" title="基本git命令"></a>基本git命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># 建立一个仓库。</div><div class="line">1. git init</div><div class="line"></div><div class="line"># 添加文件XXX。如果add后面加“.”，添加当前目录所有文件。</div><div class="line">2. git add XXX</div><div class="line"></div><div class="line"># 提交代码，提交时附加说明信息message。</div><div class="line">3. git commit -m &apos;message&apos; (`最后一个附加信息相当于标签`)</div><div class="line"></div><div class="line"># 这一句将origin用作XXX@github.com:XXX/XXX.git的别名，以后就可以方便的用origin代表XXX@github.com:XXX/XXX.git了。</div><div class="line">4. git remote add origin XXX@github.com:XXX/XXX.git   (`给git仓库的地址取一个别名`)</div><div class="line"># git remote rm origin用于删除别名</div><div class="line"></div><div class="line"># 上传当前目录到github的master分支</div><div class="line">5. git push -u origin master   上传带`master`标签的文件到github</div></pre></td></tr></table></figure>
<blockquote>
<p>如果原来仓库中有另外一个文件, 首先应该进行github仓库代码下载, 合并后总体上传,因为github并不能识别代码是不是一个项目</p>
</blockquote>
<h2 id="其他常用git命令"><a href="#其他常用git命令" class="headerlink" title="其他常用git命令"></a>其他常用git命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">1. git clone</div><div class="line">eg： git clone git://github.com/XXX/XXX.git some_project  (最后为仓库的地址)</div><div class="line">将&apos;git://github.com/XXX/XXX.git&apos;这个URL地址的远程版本库完全克隆到本地XXX目录下面</div><div class="line"></div><div class="line">2. git init</div><div class="line">初始化当前目录，初始化后，在当前目录下会出现一个名为 .git 的目录，所有 Git 需要的数据和资源都存放在这个目录中</div><div class="line"></div><div class="line">3. git status</div><div class="line">查看当前目录相应文件在git下的状态</div><div class="line"></div><div class="line">4. git commit</div><div class="line">提交当前工作空间的修改内容</div><div class="line">eg：git commit -m &quot;update code&quot;&apos;，`提交的时候必须用-m来输入一条提交信息`</div><div class="line"></div><div class="line">5. git add</div><div class="line">将当前更改或者新增的文件加入到git的索引中</div><div class="line">eg：git add test.c 就会增加test.c文件到git的索引中</div><div class="line">git add .  ——  将当前所有的更改加入到git索引中</div><div class="line"></div><div class="line">6. git pull</div><div class="line">&gt; 意思就是将远程的代码给拉到本地</div><div class="line">从其他的版本库(既可以是远程的也可以是本地的)将代码更新到本地</div><div class="line">eg：&apos;git pull origin master 就是将origin这个版本库的代码更新到本地的master主枝</div><div class="line"></div><div class="line">7. git rm</div><div class="line">从当前的工作空间中和索引中删除文件</div><div class="line">eg：git rm test.c</div><div class="line"></div><div class="line">8. git push</div><div class="line">将本地commit的代码更新到远程版本库中(推送的远程的代码仓库中)</div><div class="line">eg：git push origin 就会将本地的代码更新到名为orgin的远程版本库中</div><div class="line"></div><div class="line">9. git log , git diff , git reset --hard HEAD^</div><div class="line"></div><div class="line">&gt; git log //用于查看提交的每个版本</div><div class="line"></div><div class="line">&gt; git diff //用于查看提交的本版本的改变</div><div class="line"></div><div class="line">        在Git中，用HEAD表示当前版本也就是最新的提交,上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。Git在内部有个指向当前版本的HEAD指针，当你回退版本的时候，Git仅仅是把HEAD从指向另一个提交版本的标签.</div><div class="line">&gt; $ git reset --hard HEAD^</div></pre></td></tr></table></figure>
<h2 id="修改主机名方法"><a href="#修改主机名方法" class="headerlink" title="修改主机名方法"></a>修改主机名方法</h2><p>修改命令行主机名：sudo gedit /etc/hosts</p>
<p> #修改主机名为路径名<br>修改一下使命令行只显示当前目录的最后一级目录名，这样看起来也好，用pwd可以看到完整的路径名。<br>   找到配置文件先进行备份： sudo  cp  ~/.bashrc  ~/.bashrc-bak<br>   找到配置文件修改： sudo  gedit  ~/.bashrc<br>   下面是我的bashrc，真正修改到就一行代码：</p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># If this is an xterm set the title to user@host:dir</div><div class="line"># 配置标题</div><div class="line">case &quot;$TERM&quot; in</div><div class="line">xterm*|rxvt*)</div><div class="line">#    PS1=&quot;/[/e]0;$&#123;debian_chroot:+($debian_chroot)&#125;/u@/h: /w/a/]$PS1&quot;</div><div class="line">PS1=&quot;[/u@/h:/W]//$ &quot;   //起头写。只需要修改这一行</div><div class="line">    ;;</div><div class="line">*)</div><div class="line">    ;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<p>保存，重启终端就行了</p>
<hr>
<h2 id="SSH的安装及公钥获取"><a href="#SSH的安装及公钥获取" class="headerlink" title="SSH的安装及公钥获取"></a>SSH的安装及公钥获取</h2><ol>
<li>前提：已安装ssh</li>
</ol>
<p>安装方法 sudo apt-get install openssh-server</p>
<ol>
<li>检查SSH公钥</li>
</ol>
<p>cd ~/.ssh<br>看看存不存在.ssh，如果存在的话，掠过下一步；不存在的请看下一步</p>
<ol>
<li>生成SSH公钥</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot; </div><div class="line"># Creates a new ssh key using the provided email Generating public/private rsa key pair. </div><div class="line">Enter file in which to save the key (/home/you/.ssh/id_rsa):</div></pre></td></tr></table></figure>
<p>按回车，现在你可以看到，在自己的目录下，有一个.ssh目录，说明成功了</p>
<p>3.1. 输入密码（直接回车跳过）<br>Enter passphrase (empty for no passphrase): [Type a passphrase]<br>Enter same passphrase again: [Type passphrase again]</p>
<p>3.2. 然后在.ssh中可以看到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Your identification has been saved in /home/you/.ssh/id_rsa. </div><div class="line"># Your public key has been saved in /home/you/.ssh/id_rsa.pub.</div><div class="line"># The key fingerprint is: </div><div class="line"># 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@youremail.com</div></pre></td></tr></table></figure>
<ol>
<li>添加SSH公钥到github</li>
</ol>
<p>打开github，找到账户里面添加SSH，把id_rsa.pub内容复制到key里面。<br>路径一般为<code>.ssh/id_rsa.pub</code></p>
<ol>
<li>测试是否生效<br>使用下面的命令测试</li>
</ol>
<p>ssh -T git@github.com<br>当你看到这些内容放入时候，直接yes</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established. </div><div class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48. </div><div class="line">Are you sure you want to continue connecting (yes/no)?</div><div class="line">//看到这个内容放入时候，说明就成功了。</div><div class="line"></div><div class="line">Hi username! </div><div class="line">You&apos;ve successfully authenticated, but GitHub does not provide shell access.</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2014/09/09/2014-09-09-在ubuntu14.04上安装Jekyll/" class="prev">PREV</a><a href="/2014/09/08/Hello-World/" class="next">NEXT</a></div><div class="copyright"><p>© 2014 - 2017 <a href="http://andrewliu.in">Andrew Liu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-58158116-2",'auto');ga('send','pageview');</script></body></html>